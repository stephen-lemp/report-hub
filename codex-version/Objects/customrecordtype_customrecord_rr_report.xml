<?xml version="1.0" encoding="UTF-8"?>
<customRecordType scriptid="customrecord_rr_report">
    <recordname>Report Runner Configuration</recordname>
    <pluralrecordname>Report Runner Configurations</pluralrecordname>
    <singularrecordname>Report Runner Configuration</singularrecordname>
    <recordid>Report Runner Configuration</recordid>
    <accesslevel>2</accesslevel>
    <allowattachments>F</allowattachments>
    <allowinlinesourcing>F</allowinlinesourcing>
    <allowquickadd>F</allowquickadd>
    <description>Configuration for Suitelet-driven reports that can source data from Saved Searches or SuiteQL.</description>
    <enableadvancedsearch>T</enableadvancedsearch>
    <enablemassupdates>T</enablemassupdates>
    <enablenumbering>T</enablenumbering>
    <enablenumberingupdate>F</enablenumberingupdate>
    <isordered>F</isordered>
    <recordhelp><![CDATA[
        <p>Use this record to configure interactive reports for the Report Runner Suitelet. Each record can source its data from a Saved Search or SuiteQL query.</p>
        <p>Populate the filter configuration with JSON describing input filters. Example:</p>
        <pre>[{"id":"trandate_from","label":"Start Date","type":"date","searchField":"trandate","operator":"ONORAFTER","suiteqlParamIndex":0}]</pre>
    ]]></recordhelp>
    <customfields>
        <customfield scriptid="custrecord_rr_description">
            <label>Description</label>
            <fieldtype>RICHTEXT</fieldtype>
            <storevalue>T</storevalue>
            <displaytype>NORMAL</displaytype>
            <showinlist>F</showinlist>
        </customfield>
        <customfield scriptid="custrecord_rr_datasource">
            <label>Data Source</label>
            <fieldtype>LIST</fieldtype>
            <sourcelist>customlist_rr_datasource</sourcelist>
            <storevalue>T</storevalue>
            <displaytype>NORMAL</displaytype>
            <defaultvalue>SAVED_SEARCH</defaultvalue>
            <help>Select how the report should fetch data.</help>
        </customfield>
        <customfield scriptid="custrecord_rr_savedsearch">
            <label>Saved Search</label>
            <fieldtype>LIST</fieldtype>
            <selectrecordtype>savedsearch</selectrecordtype>
            <storevalue>T</storevalue>
            <displaytype>NORMAL</displaytype>
            <help>Choose the saved search to run when the data source is Saved Search.</help>
        </customfield>
        <customfield scriptid="custrecord_rr_suiteql">
            <label>SuiteQL</label>
            <fieldtype>LONGTEXT</fieldtype>
            <storevalue>T</storevalue>
            <displaytype>NORMAL</displaytype>
            <help>Provide SuiteQL text when the data source is SuiteQL. Use ? placeholders for filter parameters and map them via the filter configuration.</help>
        </customfield>
        <customfield scriptid="custrecord_rr_chart_type">
            <label>Chart Type</label>
            <fieldtype>LIST</fieldtype>
            <sourcelist>customlist_rr_charttype</sourcelist>
            <storevalue>T</storevalue>
            <displaytype>NORMAL</displaytype>
            <defaultvalue>none</defaultvalue>
        </customfield>
        <customfield scriptid="custrecord_rr_chart_label">
            <label>Chart Label Field</label>
            <fieldtype>TEXT</fieldtype>
            <storevalue>T</storevalue>
            <displaytype>NORMAL</displaytype>
            <help>Provide the name of the field in the result set that should be used as chart labels.</help>
        </customfield>
        <customfield scriptid="custrecord_rr_chart_value">
            <label>Chart Value Field</label>
            <fieldtype>TEXT</fieldtype>
            <storevalue>T</storevalue>
            <displaytype>NORMAL</displaytype>
            <help>Provide the name of the field in the result set that should be used for chart values. Values will be coerced to numbers.</help>
        </customfield>
        <customfield scriptid="custrecord_rr_filter_config">
            <label>Filter Configuration</label>
            <fieldtype>LONGTEXT</fieldtype>
            <storevalue>T</storevalue>
            <displaytype>NORMAL</displaytype>
            <help>JSON array describing filters to render on the Suitelet. Each entry should include id, label, type, and optional operator, searchField, select options, and suiteqlParamIndex.</help>
        </customfield>
    </customfields>
</customRecordType>
